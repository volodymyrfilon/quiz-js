/*! For license information please see game.bundle.js.LICENSE.txt */
!function(){const e=document.getElementById("question"),t=document.getElementsByClassName("choice-text"),n=document.getElementById("score"),r=document.getElementById("progressText"),o=document.getElementById("progressBarFull"),c=document.getElementById("loader"),s=document.getElementById("game");let a={},m=!0,i=0,l=0,d=[],u=[];function g(e){const t={"&quot;":'"',"&#039;":"'","&amp;":"&","&rdquo;":'"',"&ldquo;":'"',"&ouml;":"ö","&auml;":"ä","&aring;":"a","&lrm;":"","&rlm;":""},n=new RegExp(Object.keys(t).join("|"),"g");return e.replace(n,(e=>t[e]))}fetch("https://opentdb.com/api.php?amount=15&category=9&type=multiple").then((e=>e.json())).then((e=>{u=e.results.map((e=>{const t={question:g(e.question)},n=e.incorrect_answers.map((e=>g(e)));return t.answer=Math.floor(3*Math.random())+1,n.splice(t.answer-1,0,g(e.correct_answer)),n.forEach(((e,n)=>{t["choice"+(n+1)]=e})),t})),s.classList.remove("hidden"),c.classList.add("hidden"),startGame()})).catch((e=>{})),startGame=()=>{l=0,i=0,d=[...u],getNewQuestion()},getNewQuestion=()=>{if(0===d.length||l>=12)return localStorage.setItem("mostRecentScore",i),window.location.assign("/end.html");l++,r.innerText=`Question ${l}/12`,o.style.width=l/12*100+"%";const n=Math.floor(Math.random()*d.length);a=d[n],e.innerText=a.question,Array.from(t).forEach((e=>{const t=e.dataset.number;e.innerText=a["choice"+t]})),d.splice(n,1),m=!0},Array.from(t).forEach((e=>{e.addEventListener("click",(e=>{if(!m)return;m=!1;const t=e.target,n=t.dataset.number==a.answer?"correct":"incorrect";"correct"===n?incrementScore(10):function(){const e=a.answer,t=document.querySelector(`[data-number="${e}"]`);t.parentElement.classList.add("correct"),setTimeout((()=>{t.parentElement.classList.remove("correct")}),1250)}(),t.parentElement.classList.add(n),setTimeout((()=>{t.parentElement.classList.remove(n),getNewQuestion()}),1250)}))})),incrementScore=e=>{i+=e,n.innerText=i}}();